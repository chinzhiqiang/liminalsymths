<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>liminalsynths</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
                @font-face{
            font-family: "NeueMetanaNext";
            src: url("NeueMetanaNext-SemiBold.otf") format("opentype");
            font-weight: 600;
            font-style: normal;
        }
        
        body {
            margin: 0;
            font-family: 'NeueMetanaNext', sans-serif;
            background-color: white;
            overflow: hidden; /* 防止捲動，確保像簡報 */
        }
        html, body { width: 100%; height: 100%; }

        /* Minimal utility classes (Tailwind-like) */
        .w-full{ width:100%; }
        .h-full{ height:100%; }
        .flex{ display:flex; }
        .items-center{ align-items:center; }
        .justify-center{ justify-content:center; }
        .text-center{ text-align:center; }
        .text-left{ text-align:left; }
        .text-xl{ font-size: 1.25rem; line-height: 1.5; }
        .leading-relaxed{ line-height: 1.7; }
        .bg-gray-200{ background:#d9d9d9; }
        .p-10{ padding: 40px; }
        .max-w-6xl{ max-width: 72rem; }
        .mx-auto{ margin-left:auto; margin-right:auto; }
        .w-44{ width: 11rem; }
        .w-56{ width: 14rem; }
        .w-60{ width: 15rem; }
        .w-64{ width: 16rem; }
        .w-72{ width: 18rem; }
        .max-h-\[78vh\]{ max-height: 78vh; }


        /* 黑色點點滑鼠游標 */
        :root{
            --dot-cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><circle cx="9" cy="9" r="3.2" fill="black"/></svg>') 9 9;
        }
        body, .page{ cursor: var(--dot-cursor), auto; }
        .clickable{ cursor: var(--dot-cursor), pointer; }

        .page {
            display: none;
            width: 100vw;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
        }

        .active {
            display: block;
        }

        /* 目錄選項反藍效果 */
        .menu-item:hover { background-color: #0000FF; color: white; padding: 0 10px; }

        /* 作品牆撥動效果：預設只做輕微 hover，真正的撥動在 JS 針對單張圖片 */
        .floating-img { transition: transform 0.18s ease-out; cursor: pointer; position: absolute; will-change: transform; }
        .floating-img:hover { z-index: 50; }


        .landing-logo{ width: min(720px, 80vw); height: auto; display:block; }

        /* 目錄頁：使用 SVG 本體，大小一致＋上下輕微重疊（像參考圖） */
        #menu{ background:#ffffff; }
        .menu-stack{
            width: 100vw;
            height: 100vh;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .menu-stack-inner{
            width: min(820px, 84vw);
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            gap: 0px;
        }
        .menu-link{ user-select:none; }
        .menu-link img{
            width: 100%;
            height:auto;
            display:block;
        }
        /* 輕微重疊 */
        .menu-link + .menu-link{ margin-top: -18px; }

        .back-arrow { position: absolute; top: 44px; right: 44px; z-index: 100; }
        .back-icon{ width: 30px; height: 30px; display:block; }

        /* 檔案二的陰影字（頁3/頁6） */
        .shadow-type {
            position: relative;
            display: inline-block;
            color: #1f1b1b;
        }
        .shadow-type::after{
            content: attr(data-text);
            position: absolute;
            left: 10px;
            top: 10px;
            color: #d9d9d9;
            z-index: -1;
            white-space: pre;
        }

        /* 更像檔案二：大量留白、文字不要太粗 */
        .meta-text { font-size: 12px; line-height: 1.35; color: #111; }
        .small-title { font-size: 22px; font-weight: 600; }
    
        .center-screen{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
        .menu-swap{ position:relative; width:min(720px, 92vw); }
        .menu-swap img{ width:100%; height:auto; display:block; user-select:none; -webkit-user-drag:none; }
        .menu-hotspots{
            position:absolute; inset:0;
            display:grid;
            grid-template-rows: repeat(6, 1fr);
            background: transparent;
        }
        .menu-hotspot{
            appearance:none;
            border:none;
            background: transparent;
            cursor: none; /* use custom cursor */
            padding:0;
            margin:0;
        }
        /* Ensure no drop shadow on detail images */
        .detail-image{ box-shadow:none !important; filter:none !important; }


        /* Custom cursor: black dot */
        #customCursor{
            position: fixed;
            top: 0; left: 0;
            width: 10px; height: 10px;
            border-radius: 50%;
            background: #000;
            pointer-events: none;
            transform: translate(-100px, -100px);
            z-index: 9999;
        }
        #customCursor.down{ width: 8px; height: 8px; }
        body, button, a { cursor: none; }

</style>
</head>
<body>

    <!-- landing（對齊檔案二：頁6） -->
    <div id="landing" class="page active">
        <div class="w-full h-full flex items-center justify-center">
            <img src="SVG/liminalsynths-logo.svg" class="landing-logo clickable" alt="liminalsynths" onclick="goTo('menu')">
        </div>
    </div>

    
<div id="menu" class="page">
    <div class="center-screen">
        <div class="menu-swap">
            <img id="menuSvg" src="SVG/original.svg" alt="menu" draggable="false"/>
            <div class="menu-hotspots" aria-label="menu hotspots">
                <button class="menu-hotspot" data-src="SVG/about.svg" data-target="about" aria-label="about"></button>
                <button class="menu-hotspot" data-src="SVG/contact.svg" data-target="contact" aria-label="contact"></button>
                <button class="menu-hotspot" data-src="SVG/poster.svg" data-target="poster" aria-label="poster"></button>
                <button class="menu-hotspot" data-src="SVG/typographic.svg" data-target="typographic" aria-label="typographic"></button>
                <button class="menu-hotspot" data-src="SVG/illustration.svg" data-target="illustration" aria-label="illustration"></button>
                <button class="menu-hotspot" data-src="SVG/project.svg" data-target="project" aria-label="project"></button>
            </div>
        </div>
    </div>
</div>
</div>
    </div>

    <div id="about" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center">
            <div class="bg-gray-200 p-10 text-center text-xl leading-relaxed" style="width: min(680px, 84vw);">
                In the liminal state between<br>
                medium and concept, synths emerge.<br><br>
                features visual creations<br>
                in various forms.
            </div>
        </div>
    </div>

    <div id="contact" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center text-center">
            <div>
                <div class="meta-text" style="font-size:16px;">liminalsynths@gmail.com</div>
                <div class="meta-text" style="font-size:16px; margin-top:10px;">@liminalsynths</div>
            </div>
        </div>
    </div>

    <div id="poster" class="page" style="background: white;">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>

        <!-- 對齊檔案二：頁1（大片留白＋散落拼貼） -->
        <img src="image/iridescent 2017.jpg" class="floating-img w-44" style="top:18%; left:8%;" onclick="goTo('detail')">
        <img src="image/multiboost.jpg" class="floating-img w-72" style="top:24%; left:18%;" onclick="goTo('detail')">
        <img src="image/mirror 2021.jpg" class="floating-img w-60" style="top:8%; left:40%;" onclick="goTo('detail')">
        <img src="image/foray 2021.jpg" class="floating-img w-72" style="top:14%; left:58%;" onclick="goTo('detail')">
        <img src="image/born this way ism.jpg" class="floating-img w-64" style="top:22%; left:78%;" onclick="goTo('detail')">
        <img src="image/coverthed.jpg" class="floating-img w-56" style="bottom:18%; left:14%;" onclick="goTo('detail')">
        <img src="image/strike 2021.jpg" class="floating-img w-64" style="bottom:16%; left:58%;" onclick="goTo('detail')">
    </div>

    <div id="detail" class="page">
        <div class="back-arrow clickable" onclick="goTo('poster')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>

        <!-- 對齊檔案二：頁2（左側資訊＋右側大圖） -->
        <div class="w-full h-full relative">
            <div class="absolute left-24 top-24">
                <div class="small-title">foray</div>
            </div>

            <div class="absolute left-24 bottom-24 w-72 space-y-3">
                <div class="meta-text">2021<br>visual poster</div>
                <div class="meta-text">
                    a massive celestial body lands on barren ground. its origin and purpose unknown. created with illustration and post-production tools.
                </div>
            </div>

            <div class="absolute right-24 top-24 bottom-24 flex items-center justify-center" style="left: 360px;">
                <img src="image/foray 2021.jpg" class="max-h-[78vh] detail-image" alt="foray poster">
            </div>
        </div>
    </div>

    <!-- typographic（對齊檔案二：頁3） -->
    <div id="typographic" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>

        <div class="w-full h-full flex items-center justify-center">
            <div class="shadow-type text-left" data-text="about\ncontact\nposter\ntypographic\nillustration\nproject" style="font-family: NeueMetanaNext, sans-serif; font-size: 86px; line-height: 0.92; letter-spacing: -0.03em;">
                about<br>
                contact<br>
                poster<br>
                typographic<br>
                illustration<br>
                project
            </div>
        </div>
    </div>

    <!-- illustration / project：先放同版式 placeholder，之後換你的內容 -->
    <div id="illustration" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center">
            <div class="meta-text" style="font-size:18px;">illustration (coming soon)</div>
        </div>
    </div>

    <div id="project" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center">
            <div class="meta-text" style="font-size:18px;">project (coming soon)</div>
        </div>
    </div>

    
<script>

    const pages = document.querySelectorAll('.page');

    function goTo(pageId) {
        pages.forEach(page => page.classList.remove('active'));
        const target = document.getElementById(pageId);
        if (target) target.classList.add('active');

        // Init per-page interactions
        if (pageId === 'menu') initMenuSwap();
        if (pageId === 'poster') initPosterInteraction();
    }

    // -------- Menu hover swap (single SVG + hotspots) --------
    let menuInited = false;
    function initMenuSwap() {
        if (menuInited) return;
        menuInited = true;

        const menuSvg = document.getElementById('menuSvg');
        const hotspots = document.querySelectorAll('.menu-hotspot');
        if (!menuSvg || !hotspots.length) return;

        const originalSrc = 'SVG/original.svg';

        hotspots.forEach(btn => {
            const hoverSrc = btn.getAttribute('data-src');
            const target = btn.getAttribute('data-target');

            btn.addEventListener('mouseenter', () => {
                if (hoverSrc) menuSvg.src = hoverSrc;
            });
            btn.addEventListener('mouseleave', () => {
                menuSvg.src = originalSrc;
            });
            btn.addEventListener('click', () => {
                if (target) goTo(target);
            });
        });

        // safety reset
        menuSvg.src = originalSrc;
    }

    // -------- Custom cursor (black dot) --------
    const cursor = document.createElement('div');
    cursor.id = 'customCursor';
    document.body.appendChild(cursor);

    document.addEventListener('mousemove', (e) => {
        cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
    });

    document.addEventListener('mousedown', () => cursor.classList.add('down'));
    document.addEventListener('mouseup', () => cursor.classList.remove('down'));

    // -------- Poster interactions: drift + ripple + collision bounce --------
    let posterInited = false;

    function initPosterInteraction() {
        if (posterInited) return;
        posterInited = true;

        const posterContainer = document.querySelector('#poster .poster-container');
        if (!posterContainer) return;

        const items = Array.from(posterContainer.querySelectorAll('.poster-item'));
        if (!items.length) return;

        // Disable any accidental shadow
        items.forEach(el => el.style.boxShadow = 'none');

        // State per image
        const states = items.map(el => {
            const left = parseFloat(getComputedStyle(el).left) || 0;
            const top  = parseFloat(getComputedStyle(el).top) || 0;
            const w = el.offsetWidth;
            const h = el.offsetHeight;
            return {
                el,
                baseX: left,
                baseY: top,
                x: 0, y: 0,
                vx: 0, vy: 0,
                w, h,
                hover: 0,
            };
        });

        // Recalculate sizes on resize (responsive)
        const syncSizes = () => {
            states.forEach(s => {
                s.w = s.el.offsetWidth;
                s.h = s.el.offsetHeight;
            });
        };
        window.addEventListener('resize', syncSizes);

        // Hover "butterfly effect": lightly tug neighbors
        states.forEach((s, idx) => {
            s.el.addEventListener('mouseenter', () => { s.hover = 1; });
            s.el.addEventListener('mouseleave', () => { s.hover = 0; });
        });

        // Drag influence
        let isDown = false;
        let lastX = 0, lastY = 0;

        posterContainer.addEventListener('pointerdown', (e) => {
            isDown = true;
            lastX = e.clientX;
            lastY = e.clientY;
            posterContainer.setPointerCapture(e.pointerId);
        });

        posterContainer.addEventListener('pointerup', (e) => {
            isDown = false;
            try { posterContainer.releasePointerCapture(e.pointerId); } catch {}
        });

        posterContainer.addEventListener('pointercancel', () => { isDown = false; });

        posterContainer.addEventListener('pointermove', (e) => {
            if (!isDown) return;

            const dx = e.clientX - lastX;
            const dy = e.clientY - lastY;
            lastX = e.clientX;
            lastY = e.clientY;

            const rect = posterContainer.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;

            // apply impulse to nearby images
            const radius = 220; // px
            states.forEach(s => {
                const cx = (s.baseX + s.x) + s.w / 2;
                const cy = (s.baseY + s.y) + s.h / 2;
                const dist = Math.hypot(cx - mx, cy - my);
                if (dist < radius) {
                    const fall = (1 - dist / radius);
                    s.vx += dx * 0.25 * fall;
                    s.vy += dy * 0.25 * fall;
                }
            });
        });

        // Physics loop
        function step() {
            // Springs back to base + damping
            const spring = 0.02;
            const damp = 0.90;

            // Hover ripple nudges
            const hoverKick = 0.8;

            // Collision response settings
            const overlapLimit = 0.66; // don't exceed 2/3 overlap
            const bounce = 0.45;       // rebound strength
            const repel = 0.015;       // soft separation

            // Apply hover influence
            states.forEach((s,i) => {
                if (s.hover > 0) {
                    states.forEach((t,j) => {
                        if (i === j) return;
                        const dx = (t.baseX + t.x + t.w/2) - (s.baseX + s.x + s.w/2);
                        const dy = (t.baseY + t.y + t.h/2) - (s.baseY + s.y + s.h/2);
                        const d = Math.hypot(dx, dy) || 1;
                        const r = 260;
                        if (d < r) {
                            const f = (1 - d/r) * hoverKick;
                            t.vx += (dx/d) * f * 0.12;
                            t.vy += (dy/d) * f * 0.12;
                        }
                    });
                }
            });

            // Pairwise collisions based on overlap ratio
            for (let i = 0; i < states.length; i++) {
                for (let j = i + 1; j < states.length; j++) {
                    const a = states[i], b = states[j];

                    const ax1 = a.baseX + a.x, ay1 = a.baseY + a.y;
                    const ax2 = ax1 + a.w,    ay2 = ay1 + a.h;
                    const bx1 = b.baseX + b.x, by1 = b.baseY + b.y;
                    const bx2 = bx1 + b.w,     by2 = by1 + b.h;

                    const ix = Math.max(0, Math.min(ax2, bx2) - Math.max(ax1, bx1));
                    const iy = Math.max(0, Math.min(ay2, by2) - Math.max(ay1, by1));
                    if (ix <= 0 || iy <= 0) continue;

                    const interArea = ix * iy;
                    const minArea = Math.min(a.w * a.h, b.w * b.h);
                    const ratio = interArea / (minArea || 1);

                    if (ratio > overlapLimit) {
                        // push away along center-to-center
                        const acx = ax1 + a.w/2, acy = ay1 + a.h/2;
                        const bcx = bx1 + b.w/2, bcy = by1 + b.h/2;
                        let dx = bcx - acx;
                        let dy = bcy - acy;
                        const d = Math.hypot(dx, dy) || 1;
                        dx /= d; dy /= d;

                        const strength = (ratio - overlapLimit) * 120;
                        a.vx -= dx * strength * repel;
                        a.vy -= dy * strength * repel;
                        b.vx += dx * strength * repel;
                        b.vy += dy * strength * repel;

                        // rebound
                        a.vx *= (1 - bounce);
                        a.vy *= (1 - bounce);
                        b.vx *= (1 - bounce);
                        b.vy *= (1 - bounce);
                    }
                }
            }

            // Integrate
            states.forEach(s => {
                // spring back to origin
                s.vx += (-s.x) * spring;
                s.vy += (-s.y) * spring;

                s.vx *= damp;
                s.vy *= damp;

                s.x += s.vx;
                s.y += s.vy;

                // Clamp drift so it stays subtle
                const maxDrift = 42;
                s.x = Math.max(-maxDrift, Math.min(maxDrift, s.x));
                s.y = Math.max(-maxDrift, Math.min(maxDrift, s.y));

                s.el.style.transform = `translate(${s.x}px, ${s.y}px)`;
            });

            requestAnimationFrame(step);
        }

        requestAnimationFrame(step);
    }

    window.onload = () => {
        initMenuSwap();
    };

</script>

</body>
</html>
