<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>liminalsynths</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
                @font-face{
            font-family: "NeueMetanaNext";
            src: url("NeueMetanaNext-SemiBold.otf") format("opentype");
            font-weight: 600;
            font-style: normal;
        }
        
        body {
            font-family: 'NeueMetanaNext', sans-serif;
            background-color: white;
            overflow: hidden; /* 防止捲動，確保像簡報 */
        }

        /* 黑色點點滑鼠游標 */
        :root{
            --dot-cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><circle cx="9" cy="9" r="3.2" fill="black"/></svg>') 9 9;
        }
        body, .page{ cursor: var(--dot-cursor), auto; }
        .clickable{ cursor: var(--dot-cursor), pointer; }

        .page {
            display: none;
            width: 100vw;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
        }

        .active {
            display: block;
        }

        /* 目錄選項反藍效果 */
        .menu-item:hover { background-color: #0000FF; color: white; padding: 0 10px; }

        /* 作品牆撥動效果：預設只做輕微 hover，真正的撥動在 JS 針對單張圖片 */
        .floating-img { transition: transform 0.18s ease-out; cursor: pointer; position: absolute; will-change: transform; }
        .floating-img:hover { z-index: 50; }


        .landing-logo{ width: min(720px, 80vw); height: auto; display:block; }

        /* 目錄頁：使用 SVG 本體，大小一致＋上下輕微重疊（像參考圖） */
        #menu{ background:#ffffff; }
        .menu-stack{
            width: 100vw;
            height: 100vh;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .menu-stack-inner{
            width: min(820px, 84vw);
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            gap: 0px;
        }
        .menu-link{ user-select:none; }
        .menu-link img{
            width: 100%;
            height:auto;
            display:block;
        }
        /* 輕微重疊 */
        .menu-link + .menu-link{ margin-top: -18px; }

        .back-arrow { position: absolute; top: 44px; right: 44px; z-index: 100; }
        .back-icon{ width: 30px; height: 30px; display:block; }

        /* 檔案二的陰影字（頁3/頁6） */
        .shadow-type {
            position: relative;
            display: inline-block;
            color: #1f1b1b;
        }
        .shadow-type::after{
            content: attr(data-text);
            position: absolute;
            left: 10px;
            top: 10px;
            color: #d9d9d9;
            z-index: -1;
            white-space: pre;
        }

        /* 更像檔案二：大量留白、文字不要太粗 */
        .meta-text { font-size: 12px; line-height: 1.35; color: #111; }
        .small-title { font-size: 22px; font-weight: 600; }
    </style>
</head>
<body>

    <!-- landing（對齊檔案二：頁6） -->
    <div id="landing" class="page active">
        <div class="w-full h-full flex items-center justify-center">
            <img src="SVG/liminalsynths-logo.svg" class="landing-logo clickable" alt="liminalsynths" onclick="goTo('menu')">
        </div>
    </div>

    <div id="menu" class="page">
        <div class="menu-stack">
            <div class="menu-stack-inner">
                <div class="menu-link clickable" onclick="goTo('about')"><img src="SVG/about.svg" alt="about"></div>
                <div class="menu-link clickable" onclick="goTo('contact')"><img src="SVG/contact.svg" alt="contact"></div>
                <div class="menu-link clickable" onclick="goTo('poster')"><img src="SVG/poster.svg" alt="poster"></div>
                <div class="menu-link clickable" onclick="goTo('typographic')"><img src="SVG/typographic.svg" alt="typographic"></div>
                <div class="menu-link clickable" onclick="goTo('illustration')"><img src="SVG/illustration.svg" alt="illustration"></div>
                <div class="menu-link clickable" onclick="goTo('project')"><img src="SVG/project.svg" alt="project"></div>
            </div>
        </div>
    </div>

    <div id="about" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center">
            <div class="bg-gray-200 p-10 text-center text-xl leading-relaxed" style="width: min(680px, 84vw);">
                In the liminal state between<br>
                medium and concept, synths emerge.<br><br>
                features visual creations<br>
                in various forms.
            </div>
        </div>
    </div>

    <div id="contact" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center text-center">
            <div>
                <div class="meta-text" style="font-size:16px;">liminalsynths@gmail.com</div>
                <div class="meta-text" style="font-size:16px; margin-top:10px;">@liminalsynths</div>
            </div>
        </div>
    </div>

    <div id="poster" class="page" style="background: white;">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>

        <!-- 對齊檔案二：頁1（大片留白＋散落拼貼） -->
        <img src="image/iridescent 2017.jpg" class="floating-img w-44" style="top:18%; left:8%;" onclick="goTo('detail')">
        <img src="image/multiboost.jpg" class="floating-img w-72" style="top:24%; left:18%;" onclick="goTo('detail')">
        <img src="image/mirror 2021.jpg" class="floating-img w-60" style="top:8%; left:40%;" onclick="goTo('detail')">
        <img src="image/foray 2021.jpg" class="floating-img w-72" style="top:14%; left:58%;" onclick="goTo('detail')">
        <img src="image/born this way ism.jpg" class="floating-img w-64" style="top:22%; left:78%;" onclick="goTo('detail')">
        <img src="image/coverthed.jpg" class="floating-img w-56" style="bottom:18%; left:14%;" onclick="goTo('detail')">
        <img src="image/strike 2021.jpg" class="floating-img w-64" style="bottom:16%; left:58%;" onclick="goTo('detail')">
    </div>

    <div id="detail" class="page">
        <div class="back-arrow clickable" onclick="goTo('poster')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>

        <!-- 對齊檔案二：頁2（左側資訊＋右側大圖） -->
        <div class="w-full h-full relative">
            <div class="absolute left-24 top-24">
                <div class="small-title">foray</div>
            </div>

            <div class="absolute left-24 bottom-24 w-72 space-y-3">
                <div class="meta-text">2021<br>visual poster</div>
                <div class="meta-text">
                    a massive celestial body lands on barren ground. its origin and purpose unknown. created with illustration and post-production tools.
                </div>
            </div>

            <div class="absolute right-24 top-24 bottom-24 flex items-center justify-center" style="left: 360px;">
                <img src="image/foray 2021.jpg" class="max-h-[78vh]" alt="foray poster">
            </div>
        </div>
    </div>

    <!-- typographic（對齊檔案二：頁3） -->
    <div id="typographic" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>

        <div class="w-full h-full flex items-center justify-center">
            <div class="shadow-type text-left" data-text="about\ncontact\nposter\ntypographic\nillustration\nproject" style="font-family: NeueMetanaNext, sans-serif; font-size: 86px; line-height: 0.92; letter-spacing: -0.03em;">
                about<br>
                contact<br>
                poster<br>
                typographic<br>
                illustration<br>
                project
            </div>
        </div>
    </div>

    <!-- illustration / project：先放同版式 placeholder，之後換你的內容 -->
    <div id="illustration" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center">
            <div class="meta-text" style="font-size:18px;">illustration (coming soon)</div>
        </div>
    </div>

    <div id="project" class="page">
        <div class="back-arrow clickable" onclick="goTo('menu')"><img src="SVG/返回鍵.svg" alt="back" class="back-icon"></div>
        <div class="w-full h-full flex items-center justify-center">
            <div class="meta-text" style="font-size:18px;">project (coming soon)</div>
        </div>
    </div>

    
<script>
    function goTo(pageId){
        document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        // 每次進入 poster，重新綁定（避免首次進入前找不到元素）
        if(pageId==='poster') initPosterWobble();
    }

    // Poster：滑鼠經過單張圖時，周邊圖會被「漣漪／蝴蝶效應」輕微牽引（不是整體一起動）
    // 並且限制位移，避免過度重疊（交集 > 2/3）
    function initPosterInteraction(){
        const posterPage=document.getElementById('poster');
        if(!posterPage) return;
        const imgs=[...posterPage.querySelectorAll('.floating-img')];
        if(!imgs.length) return;
        if(posterPage.dataset.physicsBound==='1') return;
        posterPage.dataset.physicsBound='1';

        const state=imgs.map(()=>({ x:0, y:0, vx:0, vy:0, tx:0, ty:0 }));
        let pointer={ x:0, y:0, active:false };
        let hoveredIndex=-1;

        const clamp=(v,min,max)=>Math.max(min, Math.min(max, v));
        const lerp=(a,b,t)=>a+(b-a)*t;

        // 監聽滑鼠
        posterPage.addEventListener('pointermove',(e)=>{
            pointer.x=e.clientX; pointer.y=e.clientY; pointer.active=true;
        });
        posterPage.addEventListener('pointerleave',()=>{
            pointer.active=false; hoveredIndex=-1;
        });
        imgs.forEach((img,i)=>{
            img.addEventListener('pointerenter',()=>{ hoveredIndex=i; });
            img.addEventListener('pointerleave',()=>{ if(hoveredIndex===i) hoveredIndex=-1; });
        });

        function computeTargets(){
            // reset
            for(let i=0;i<imgs.length;i++){ state[i].tx=0; state[i].ty=0; }
            if(!pointer.active) return;

            const maxA=12; // 最大位移（px）

            // pointer influence (local)
            for(let i=0;i<imgs.length;i++){
                const r=imgs[i].getBoundingClientRect();
                const cx=r.left+r.width/2;
                const cy=r.top+r.height/2;
                const dx=pointer.x-cx;
                const dy=pointer.y-cy;
                const dist=Math.sqrt(dx*dx+dy*dy)+0.0001;
                const fall=Math.exp(-dist/380);
                const amp=(i===hoveredIndex? 10: 5) * fall;
                state[i].tx += clamp(dx/dist, -1, 1) * amp;
                state[i].ty += clamp(dy/dist, -1, 1) * amp;
            }

            // coupling: 以 hover 的那張為中心，周邊被輕微「拉近」並帶一點漣漪偏移
            if(hoveredIndex>=0){
                const hr=imgs[hoveredIndex].getBoundingClientRect();
                const hx=hr.left+hr.width/2;
                const hy=hr.top+hr.height/2;
                for(let i=0;i<imgs.length;i++){
                    if(i===hoveredIndex) continue;
                    const r=imgs[i].getBoundingClientRect();
                    const cx=r.left+r.width/2;
                    const cy=r.top+r.height/2;
                    const dx=cx-hx;
                    const dy=cy-hy;
                    const dist=Math.sqrt(dx*dx+dy*dy)+0.0001;
                    const fall=Math.exp(-dist/520);
                    // toward hovered
                    state[i].tx += (-dx/dist) * (6*fall);
                    state[i].ty += (-dy/dist) * (6*fall);
                    // tiny perpendicular ripple
                    state[i].tx += (-dy/dist) * (2.2*fall);
                    state[i].ty += ( dx/dist) * (2.2*fall);
                }
            }

            // limit
            for(let i=0;i<imgs.length;i++){
                state[i].tx=clamp(state[i].tx, -maxA, maxA);
                state[i].ty=clamp(state[i].ty, -maxA, maxA);
            }

            // overlap avoidance (very light): if overlap area ratio > 0.66, push apart
            const predicted=imgs.map((img,i)=>{
                const r=img.getBoundingClientRect();
                return {
                    l:r.left+state[i].tx,
                    t:r.top+state[i].ty,
                    r:r.right+state[i].tx,
                    b:r.bottom+state[i].ty,
                    cx:(r.left+r.right)/2+state[i].tx,
                    cy:(r.top+r.bottom)/2+state[i].ty,
                    a:r.width*r.height
                };
            });
            for(let i=0;i<predicted.length;i++){
                for(let j=i+1;j<predicted.length;j++){
                    const A=predicted[i], B=predicted[j];
                    const iw=Math.max(0, Math.min(A.r,B.r)-Math.max(A.l,B.l));
                    const ih=Math.max(0, Math.min(A.b,B.b)-Math.max(A.t,B.t));
                    const inter=iw*ih;
                    const minA=Math.min(A.a,B.a);
                    if(minA<=0) continue;
                    const ratio=inter/minA;
                    if(ratio>0.66){
                        const dx=A.cx-B.cx;
                        const dy=A.cy-B.cy;
                        const d=Math.sqrt(dx*dx+dy*dy)+0.0001;
                        const push=(ratio-0.66)*18; // small
                        state[i].tx += (dx/d)*push;
                        state[i].ty += (dy/d)*push;
                        state[j].tx -= (dx/d)*push;
                        state[j].ty -= (dy/d)*push;
                    }
                }
            }

            for(let i=0;i<imgs.length;i++){
                state[i].tx=clamp(state[i].tx, -maxA, maxA);
                state[i].ty=clamp(state[i].ty, -maxA, maxA);
            }
        }

        function tick(){
            computeTargets();
            for(let i=0;i<imgs.length;i++){
                const s=state[i];
                // spring
                s.vx = s.vx*0.84 + (s.tx - s.x)*0.14;
                s.vy = s.vy*0.84 + (s.ty - s.y)*0.14;
                s.x += s.vx;
                s.y += s.vy;
                const rot=clamp(s.x, -12, 12) * 0.18;
                const scale=(i===hoveredIndex? 1.02: 1);
                imgs[i].style.transform = `translate(${s.x.toFixed(2)}px, ${s.y.toFixed(2)}px) rotate(${rot.toFixed(2)}deg) scale(${scale})`;
            }
            requestAnimationFrame(tick);
        }
        requestAnimationFrame(tick);
    }

    window.addEventListener('load', ()=>{ initPosterInteraction(); });
</script>

</body>
</html>
